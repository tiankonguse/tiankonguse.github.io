---   
layout:     post  
title: 两台电脑如何复制数据，同事的方法我震惊了  
description: 同事把硬盘拆下来了。       
keywords: 程序人生,电脑,硬件,硬盘  
tags: [程序人生,电脑,硬盘]    
categories: [程序人生]  
updateData:  2022-01-08 21:35:00  
published: true  
---  


## 一、背景  


以前，公司内每个人都可以由两个电脑。  


前几年，公司做成本优化，决定每个人只能拥有一个电脑。  
之前已经由两个电脑的员工，只能选择一个电脑进行换代更新，另一个永久无法更换。  


当时大家的吐槽声很大，认为这个是自断双腿式的成本优化，预测以后开发效率会大大降低。  
但是大家不管怎么吐槽，只能拥有一个电脑的政策还是执行了。  


结果就是，所有人只能选择 Mac 笔记本当作可以正常更换的电脑（各种场景需要使用笔记本）。  
手上的台式机就变成不可升级的电脑。  


然而大部分习惯了台式机 windows 同事，开发依旧使用 N 年前台式机。  


比如我的台式机是 2014 年领取的，看配置是 2013 年购买的。  
不过，我领取 Mac 笔记本后，就马上迁移到 Mac 笔记本开发了，台式机多年没开过机了。   


就这样，很多人使用着非常卡顿的台式机工作着，持续了很多年。   


2022 年到了，可能领导发现这个问题，于是又允许每个人拥有两个电脑了。  
于是我就申请更换了一个新的台式机。  


这时候就面临一个问题：旧台式机电脑上的文件怎么复制到新电脑上。  


闲聊的时候，有人说找个移动硬盘中转一下。  
也有人说先上传到网盘上，再下载下来。  
同事说出他们的做法后，我震惊了。  


## 二、同事的解决方案  


同事在假期得知可以换电脑的消息后，马上申请了新电脑。  


我是两天后工作日才知道的。  


所以，他们的电脑提前两天到达。  


吃饭的时候问他们怎么解决硬盘数据问题的。  


他们说把旧的机箱打开，硬盘拆下来。  
然后把新的机箱打开，磁盘插进去。  
最后，打开新电脑，挂在磁盘，复制数据即可。  


问复制速度，回答每秒几十兆。  


我心里默想，我肯定不这样搞，太粗暴了。  



## 三、我的解决方案  


如果不拆磁盘，该怎么复制数据呢？  


我的方案是两个电脑使用网线连起来，直接局域网复制数据即可。  


现在的网卡都是千兆网卡，单位为 bit。  
换算一下，理论上最快可以复制 128M/秒的数据。  


我的电脑到之后，使用网线把两个电脑连起来，发现电脑自动就组件成局域网了。  
可以发现，速度是 1Gbps，意思速度最高每秒可以传输 1G bit。  


![](https://res2022.tiankonguse.com/images/2022/01/08/001.png)  


旧电脑把对应的文件夹设置成分享，在网络中就可以看到对应的电脑了。  


![](https://res2022.tiankonguse.com/images/2022/01/08/002.png)  


当然，默认是没权限的。  
由于去点击目标电脑图标，电脑就自动提示没权限，问是否开启。  
选择是，于是就可以复制数据了，速度也是几十兆，比同事的还快不少。  


![](https://res2022.tiankonguse.com/images/2022/01/08/003.png)  


当然，这个速度是上限。  
实际复制的时候，由于存在小文件，IO 阻塞切换会降低复制的速度。  
我们可以分几个文件夹来同时复制，通过并发解决 IO 阻塞的问题。  


## 四、最后  


最后，我又测试了下同一个磁盘相同分区内的复制速度，2.18GB/秒，好快。  


![](https://res2022.tiankonguse.com/images/2022/01/08/004.png)  


还测试了下相同磁盘不同分区的速度，1.47GB/秒，也还行。   


![](https://res2022.tiankonguse.com/images/2022/01/08/005.png)  



看了这两个速度数据，我有一个疑问：同事两个硬盘的复制速度不应该那么低。  


理论上，使用电脑内部的 STAT 接口，没有 1G 的限制，复制速度应该轻松到达几百兆甚至上G 的。  


那么问题出在哪里呢？你知道吗？  



《完》  


-EOF-  



本文公众号：天空的代码世界  
个人微信号：tiankonguse  
QQ算法群：165531769（不止算法）  
知识星球：不止算法  

